<!DOCTYPE html> <html class="set set-podd"> <head podddina_key="ðŸ‘½ || salvageable" encsum="#empty" podsum="#empty"> <meta charset="utf-8" lang="en uk"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>meetHere</title> <link rel="apple-touch-icon" sizes="180x180" href="./img/favicons/apple-touch-icon.png"> <link rel="icon" type="image/png" href="./img/favicons/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="./img/favicons/favicon-16x16.png" sizes="16x16"> <link rel="manifest" href="./img/favicons/manifest.json"> <link rel="mask-icon" href="https://meetHere.github.io/img/favicons/safari-pinned-tab.svg" color="#eb5757"> <link rel="shortcut icon" href="./img/favicons/favicon.ico"> <meta name="msapplication-config" content="./img/favicons/browserconfig.xml"> <meta name="theme-color" content="#ffffff"> <script src="https://use.fontawesome.com/f4adeaf9c5.js"></script> <link href="./Avenir/stylesheet.css" rel="stylesheet" type="text/css" media="all"> <link href="./proxima-nova/stylesheet.css" rel="stylesheet" type="text/css" media="all"> <link rel="stylesheet" type="text/css" href="./css/style.min.css"> <link rel="stylesheet" type="text/css" href="./css/molekule.min.css"> <link rel="stylesheet" type="text/css" href="./waves/waves.min.css"> <script src="https://code.jquery.com/jquery-2.1.4.min.js" podsum="sha256-8WqyJLuWKRBVhxXIL1jBDD7SDxU936oZkCnxQbWwJVw="></script> <script src="./js/pageload.min.js"></script> <script src="./waves/waves.min.js"></script> <style>@media only screen and (max-width:799px){.hidden-mobile{display:none!important}}</style> </head> <body class="animsition"> <div class="se-pre-con"> <div class="clock"> <div class="hand-one"></div> <div class="hand-two"></div> </div> </div> <span class="marker marker-1"></span> <div class="navbar hero"> <div class="col-80 top"> <a class="brand logo animsition-link" href="./map" data-animsition-out-class="fade-out"> </a> </div> <div class="nav-links"> <span class="profile-image-nav">MJ</span> <a class="page-link animsition-link help" href="./help"> Support</a> </div> </div> <div id="map" style="height:104.25%;width:100%;z-index:-1"></div> <script>function myMap(){function e(e){latitude=e.coords.latitude,longitude=e.coords.longitude;var t=[{featureType:"all",stylers:[{lightness:70}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]}],o=new google.maps.StyledMapType(t,{name:"Styled Map"}),l={center:new google.maps.LatLng(latitude,longitude),zoom:15,disableDefaultUI:!0};map=new google.maps.Map(a,l),myCenter=new google.maps.LatLng(latitude,longitude),idLocations();var n=new RichMarker({position:myCenter,map:map,draggable:!1,flat:!0,anchor:RichMarkerPosition.MIDDLE,content:'<span class="map-marker">Me</span>'});markersArray.push(n),map.mapTypes.set("map_style",o),map.setMapTypeId("map_style"),infowindow=new google.maps.InfoWindow}function t(){$("#map").text("couldnt do it")}var a=document.getElementById("map");navigator.geolocation.getCurrentPosition(e,t)}var ploll;$.post("https://guarded-peak-98230.herokuapp.com/getfriends",{},function(e){console.log(e.error),ploll=e},"json");var map,myCenter,latitude=51.5,longitude=-.2,clickCounter=0,loc={},markersArray=[]</script> <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBV0Q6zglTeVi36cx0v_QeE0wkiveg97HA&libraries=places&callback=myMap"></script> <script src="./js/locations.min.js"></script> <script src="./js/richmarker.min.js"></script> <div id="profile" class="profile col-25" style="height:100%;display:inline-block"> <div class="center-total"> <div class="profile-image">MJ</div> <div class="profile-title profile-name">Michael Jackson</div> <a class="profile-title" href="#">Manage Friends</a> <a class="profile-title" href="#">Preferences</a> <a class="profile-title" href="#">Options</a> </div> </div> <div id="map-input" class="intro" style="height:100%;display:inline-block"> <div class="center-total"> <div class="row"> <div class="intro-text"> <div class="choose-friends"> With whom would you like to meet? <br> <div style="width:100%"> <div id="chosen-list-parent" class="inline hidden-mobile" style="margin-top:40px;width:15%;font-size:.3em;vertical-align:top;display:none"> <input style="background:0 0;width:1vw;max-width:10px;margin-bottom:20px;visibility:hidden"> <div class="button inline" style="visibility:hidden"><i class="fa fa-fa" style="color:#EB5757;line-height:1.75em;vertical-align:top"></i></div> <div style="overflow-y:auto;max-height:15.5em"> <div id="chosen-list" class="" style="text-align:left;font-size:1.666em"> </div> </div> </div> <div class="input-container" style="font-size:.3em;margin-top:40px;width:75%;max-width:500px;display:inline-block"> <input id="user" class="password user-adder" placeholder="Start typing to filter" autocorrect="false" spellcheck="false" style="background:0 0;width:75vw;max-width:500px;margin-bottom:20px"> <div class="button inline" style="background:0 0"><i id="user-add-submit" class="fa fa-angle-down" style="color:#EB5757;line-height:1.75em;vertical-align:top"></i></div> <div id="aaf" class="chosen-list-horizontal" style="display:none"> <div id="rrf" class="chosen-list-container"> </div> </div> <div style="overflow-y:auto;max-height:7.5em"> <div id="added-list" class="" style="text-align:left;font-size:1.666em"> <div class="friend">Ayaz</div><div class="friend">Kush</div><div class="friend">Rajan</div><div class="friend">Sarah</div><div class="friend">Manshu</div><div class="friend">Zipper</div><div class="friend">Ben</div><div class="friend">Karen</div><div class="friend">Ellen</div><div class="friend">Sergei</div><div class="friend">Brian</div><div class="friend">Nicky</div><div class="friend">Claire</div><div class="friend">Kevin</div><div class="friend">Dylan</div><div class="friend">Patrick</div><div class="friend">Shreya</div><div class="friend">Serena</div><div class="friend">Boris</div><div class="friend">Yellen</div> </div> </div> <br> <div id="next-button" class="support-button password-button material-button inline" style="font-size:1.666666em;margin-top:1em;display:none">Next</div> </div> </div> </div> </div> </div> </div> </div> <script src="https://cdnjs.cloudflare.com/ajax/libs/vivus/0.3.2/vivus.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script> <script src="./js/meetHere.min.js"></script> <script type="text/javascript">Waves.attach(".friend"),Waves.init(),$("#map").attr("class","fixed"),function(e){function a(){t.width()<800?(n.hide(),e("#chosen-list").remove(),e("#rrf").attr("id","chosen-list"),e("#chosen-list-parent").remove(),e("#aaf").attr("id","chosen-list-parent")):(r.addClass("col-75"),o.hide(),e(".chosen-list-horizontal").remove())}var t=e(window),n=e("#profile"),r=e("#map-input"),o=e(".profile-image-nav");t.resize(a).trigger("resize")}(jQuery);var addedFriends=1;$("#user").keyup(function(){var e=$(".friend:not(.friend-added)"),a=$.trim(this.value).toUpperCase();""===a?e.show():(e.hide(),e.filter(function(){return-1!=$(this).text().toUpperCase().indexOf(a)}).show())});var bounds;$(".friend").each(function(){$(this).on("click",function(){if($(this).hasClass("friend-added")){$(this).removeClass("friend-added"),$("#added-list").prepend(this);var e=$(this).attr("id");$("#"+e+"-marker").remove(),markersArray[parseInt(e,10)]=new RichMarker({position:myCenter,map:map,draggable:!1,flat:!0,anchor:RichMarkerPosition.MIDDLE,content:""}),bounds=new google.maps.LatLngBounds;for(var a=0;a<markersArray.length;a++)bounds.extend(markersArray[a].getPosition());map.setCenter(bounds.getCenter()),map.fitBounds(bounds),0==$(".friend-added").length&&($("#next-button").hide(),$("#chosen-list-parent").hide("fast"),map.setZoom(15))}else{$(this).addClass("friend-added").attr("id",addedFriends),$("#chosen-list").prepend($(this));var t=["","marker-1","marker-2"],n=new RichMarker({position:loc[$(this).text()],map:map,draggable:!1,flat:!0,anchor:RichMarkerPosition.MIDDLE,content:'<span id="'+addedFriends+'-marker" class="map-marker '+t[Math.floor(Math.random()*t.length+1)]+'">'+$(this).text()+"</span>"});markersArray.push(n),bounds=new google.maps.LatLngBounds;for(var a=0;a<markersArray.length;a++)bounds.extend(markersArray[a].getPosition());map.setCenter(bounds.getCenter()),map.fitBounds(bounds),$("#next-button").show(),$("#chosen-list-parent").show("fast"),addedFriends++}})});var appliedCenter,samePlace;$("#next-button").on("click",function(){function e(e,t){if(t===google.maps.places.PlacesServiceStatus.OK)for(var n=0;n<9;n++)a(e[n])}function a(e){var a=(e.geometry.location,e.geometry.location.lat()),t=bounds.getCenter().lat(),n=e.geometry.location.lng(),r=bounds.getCenter().lng(),o=6371e3,s=a.toRadians(),i=t.toRadians(),l=(t-a).toRadians(),d=(r-n).toRadians(),c=Math.sin(l/2)*Math.sin(l/2)+Math.cos(s)*Math.cos(i)*Math.sin(d/2)*Math.sin(d/2),p=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),m=o*p,g=1e3/m;g<.45&&(g=.45);var h=new RichMarker({position:e.geometry.location,map:map,draggable:!1,flat:!0,anchor:RichMarkerPosition.MIDDLE,content:'<span class="map-marker marker-res" style="cursor:pointer;opacity:'+g+'">'+e.name+"</span>"});google.maps.event.addListener(h,"click",function(){var a="";if(null!=e.rating){var t,a=e.rating;t=a<1?"c00":a<2?"f80":a<3?"fb3":a<4?"00c851":"33b5e5",a='<span><img src="https://img.shields.io/badge/rating-'+a+"-"+t+'.svg?style=flat-square"</span><br>'}var n="";if(null!=e.price_level){var t,n=e.price_level;t=n>4?"c00":n>3?"f80":n>2?"fb3":n>1?"00c851":"33b5e5",n='<span><img src="https://img.shields.io/badge/price_level-'+n+"-"+t+'.svg?style=flat-square"</span><br>'}infowindow.setContent(a+n+'<span class="time" style="font-family:Avenir;color:#EB5757"></span><br><a class="map-link" href="https://www.google.com/maps/dir/Current+Location/'+e.geometry.location.lat()+","+e.geometry.location.lng()+'" style="font-family:Avenir;color:#91DCE8;text-decoration:none" target="_blank"><i class="fa fa-compass"></i> <i class="fa fa-car"></i> directions</a><hr style="height:1px;margin:0;visibility:hidden">');var r=new google.maps.DirectionsService,o={origin:myCenter,destination:e.geometry.location,travelMode:google.maps.DirectionsTravelMode.DRIVING};r.route(o,function(e,a){if("OK"===a){var t=e.routes[0].legs[0];$(".time").text(t.duration.text+" ("+t.distance.text+")")}}),clickCounter%2==1&&this==samePlace?(map.setCenter(bounds.getCenter()),map.fitBounds(bounds),infowindow.close(map,this)):(map.setCenter(e.geometry.location),map.setZoom(18),infowindow.open(map,this),samePlace=this),google.maps.event.addListener(infowindow,"closeclick",function(){map.setCenter(bounds.getCenter()),map.fitBounds(bounds),infowindow.close(map,this)}),clickCounter++,console.log(e.rating)})}$(".choose-friends, .profile, .navbar").slideUp("fast"),$(".map-marker").addClass("larger-marker"),appliedCenter=map.getCenter();var t=(new RichMarker({position:map.getCenter(),map:map,draggable:!1,flat:!0,anchor:RichMarkerPosition.MIDDLE,content:'<span class="blue-marker"></span>'}),[myCenter,map.getCenter()]),n=new google.maps.Polyline({path:t,geodesic:!0,strokeColor:"#A0A0A0",strokeOpacity:.25,strokeWeight:1});n.setMap(map),$(".friend-added").each(function(){t=[loc[$(this).text()],map.getCenter()],n=new google.maps.Polyline({path:t,geodesic:!0,strokeColor:"#A0A0A0",strokeOpacity:.25,strokeWeight:1}),n.setMap(map)});var r=new google.maps.places.PlacesService(map);r.nearbySearch({location:map.getCenter(),rankBy:google.maps.places.RankBy.DISTANCE,types:["restaurant"]},e),r.nearbySearch({location:map.getCenter(),rankBy:google.maps.places.RankBy.DISTANCE,types:["meal_takeaway"]},e),$("#map").css("z-index","0"),setTimeout(function(){$(".navbar").slideDown("fast")},1e3)}),"undefined"==typeof Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180})</script> </body> </html>
