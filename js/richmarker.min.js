!function(){function o(o){var a=o||{};this.d=this.c=e,void 0==o.visible&&(o.visible=t),void 0==o.shadow&&(o.shadow="7px -3px 5px rgba(88,88,88,0.7)"),void 0==o.anchor&&(o.anchor=m.BOTTOM),this.setValues(a)}function a(t,e){var o=document.createElement("DIV");if(o.innerHTML=e,1==o.childNodes.length)return o.removeChild(o.firstChild);for(var a=document.createDocumentFragment();o.firstChild;)a.appendChild(o.firstChild);return a}function n(t,e){if(e)for(var o;o=e.firstChild;)e.removeChild(o)}function s(t,e){if(t.c){var o="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==e&&(o="-moz-grabbing"),"dragready"==e&&(o="-moz-grab")):("dragging"==e||"dragready"==e)&&(o="move"),"draggable"==e&&(o="pointer"),t.a.style.cursor!=o&&(t.a.style.cursor=o)}}function i(o,a){if(o.getDraggable()&&!o.d){o.d=t;var n=o.getMap();o.m=n.get("draggable"),n.set("draggable",e),o.h=a.clientX,o.i=a.clientY,s(o,"dragready"),o.a.style.MozUserSelect="none",o.a.style.KhtmlUserSelect="none",o.a.style.WebkitUserSelect="none",o.a.unselectable="on",o.a.onselectstart=function(){return e},c(o),google.maps.event.trigger(o,"dragstart")}}function r(t){t.getDraggable()&&t.d&&(t.d=e,t.getMap().set("draggable",t.m),t.h=t.i=t.m=null,t.a.style.MozUserSelect="",t.a.style.KhtmlUserSelect="",t.a.style.WebkitUserSelect="",t.a.unselectable="off",t.a.onselectstart=function(){},p(t),s(t,"draggable"),google.maps.event.trigger(t,"dragend"),t.draw())}function l(t,e){if(t.getDraggable()&&t.d){var o=t.h-e.clientX,a=t.i-e.clientY;t.h=e.clientX,t.i=e.clientY,o=parseInt(t.a.style.left,10)-o,a=parseInt(t.a.style.top,10)-a,t.a.style.left=o+"px",t.a.style.top=a+"px";var n=f(t);t.setPosition(t.getProjection().fromDivPixelToLatLng(new google.maps.Point(o-n.width,a-n.height))),s(t,"dragging"),google.maps.event.trigger(t,"drag")}else r(t)}function u(t){t.f&&(google.maps.event.removeListener(t.f),delete t.f),s(t,"")}function d(t,e){e&&(t.f=google.maps.event.addDomListener(e,"mousedown",function(e){i(t,e)}),s(t,"draggable"))}function c(e){e.a.setCapture?(e.a.setCapture(t),e.e=[google.maps.event.addDomListener(e.a,"mousemove",function(t){l(e,t)},t),google.maps.event.addDomListener(e.a,"mouseup",function(){r(e),e.a.releaseCapture()},t)]):e.e=[google.maps.event.addDomListener(window,"mousemove",function(t){l(e,t)},t),google.maps.event.addDomListener(window,"mouseup",function(){r(e)},t)]}function p(t){if(t.e){for(var o,e=0;o=t.e[e];e++)google.maps.event.removeListener(o);t.e.length=0}}function f(t){var e=t.l();if("object"==typeof e)return e;var o=new google.maps.Size(0,0);if(!t.b)return o;var a=t.b.offsetWidth;switch(t=t.b.offsetHeight,e){case m.TOP:o.width=-a/2;break;case m.TOP_RIGHT:o.width=-a;break;case m.LEFT:o.height=-t/2;break;case m.MIDDLE:o.width=-a/2,o.height=-t/2;break;case m.RIGHT:o.width=-a,o.height=-t/2;break;case m.BOTTOM_LEFT:o.height=-t;break;case m.BOTTOM:o.width=-a/2,o.height=-t;break;case m.BOTTOM_RIGHT:o.width=-a,o.height=-t}return o}var t=!0,e=!1;o.prototype=new google.maps.OverlayView,window.RichMarker=o,o.prototype.getVisible=function(){return this.get("visible")},o.prototype.getVisible=o.prototype.getVisible,o.prototype.setVisible=function(t){this.set("visible",t)},o.prototype.setVisible=o.prototype.setVisible,o.prototype.s=function(){this.c&&(this.a.style.display=this.getVisible()?"":"none",this.draw())},o.prototype.visible_changed=o.prototype.s,o.prototype.setFlat=function(t){this.set("flat",!!t)},o.prototype.setFlat=o.prototype.setFlat,o.prototype.getFlat=function(){return this.get("flat")},o.prototype.getFlat=o.prototype.getFlat,o.prototype.p=function(){return this.get("width")},o.prototype.getWidth=o.prototype.p,o.prototype.o=function(){return this.get("height")},o.prototype.getHeight=o.prototype.o,o.prototype.setShadow=function(t){this.set("shadow",t),this.g()},o.prototype.setShadow=o.prototype.setShadow,o.prototype.getShadow=function(){return this.get("shadow")},o.prototype.getShadow=o.prototype.getShadow,o.prototype.g=function(){this.c&&(this.a.style.boxShadow=this.a.style.webkitBoxShadow=this.a.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},o.prototype.flat_changed=o.prototype.g,o.prototype.setZIndex=function(t){this.set("zIndex",t)},o.prototype.setZIndex=o.prototype.setZIndex,o.prototype.getZIndex=function(){return this.get("zIndex")},o.prototype.getZIndex=o.prototype.getZIndex,o.prototype.t=function(){this.getZIndex()&&this.c&&(this.a.style.zIndex=this.getZIndex())},o.prototype.zIndex_changed=o.prototype.t,o.prototype.getDraggable=function(){return this.get("draggable")},o.prototype.getDraggable=o.prototype.getDraggable,o.prototype.setDraggable=function(t){this.set("draggable",!!t)},o.prototype.setDraggable=o.prototype.setDraggable,o.prototype.k=function(){this.c&&(this.getDraggable()?d(this,this.a):u(this))},o.prototype.draggable_changed=o.prototype.k,o.prototype.getPosition=function(){return this.get("position")},o.prototype.getPosition=o.prototype.getPosition,o.prototype.setPosition=function(t){this.set("position",t)},o.prototype.setPosition=o.prototype.setPosition,o.prototype.q=function(){this.draw()},o.prototype.position_changed=o.prototype.q,o.prototype.l=function(){return this.get("anchor")},o.prototype.getAnchor=o.prototype.l,o.prototype.r=function(t){this.set("anchor",t)},o.prototype.setAnchor=o.prototype.r,o.prototype.n=function(){this.draw()},o.prototype.anchor_changed=o.prototype.n,o.prototype.setContent=function(t){this.set("content",t)},o.prototype.setContent=o.prototype.setContent,o.prototype.getContent=function(){return this.get("content")},o.prototype.getContent=o.prototype.getContent,o.prototype.j=function(){if(this.b){n(this,this.b);var t=this.getContent();if(t){"string"==typeof t&&(t=t.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),t=a(this,t)),this.b.appendChild(t);var o=this;t=this.b.getElementsByTagName("IMG");for(var i,s=0;i=t[s];s++)google.maps.event.addDomListener(i,"mousedown",function(t){o.getDraggable()&&(t.preventDefault&&t.preventDefault(),t.returnValue=e)}),google.maps.event.addDomListener(i,"load",function(){o.draw()});google.maps.event.trigger(this,"domready")}this.c&&this.draw()}},o.prototype.content_changed=o.prototype.j,o.prototype.onAdd=function(){if(this.a||(this.a=document.createElement("DIV"),this.a.style.position="absolute"),this.getZIndex()&&(this.a.style.zIndex=this.getZIndex()),this.a.style.display=this.getVisible()?"":"none",!this.b){this.b=document.createElement("DIV"),this.a.appendChild(this.b);var e=this;google.maps.event.addDomListener(this.b,"click",function(){google.maps.event.trigger(e,"click")}),google.maps.event.addDomListener(this.b,"mouseover",function(){google.maps.event.trigger(e,"mouseover")}),google.maps.event.addDomListener(this.b,"mouseout",function(){google.maps.event.trigger(e,"mouseout")})}this.c=t,this.j(),this.g(),this.k();var o=this.getPanes();o&&o.overlayImage.appendChild(this.a),google.maps.event.trigger(this,"ready")},o.prototype.onAdd=o.prototype.onAdd,o.prototype.draw=function(){if(this.c&&!this.d){var t=this.getProjection();if(t){var e=this.get("position");t=t.fromLatLngToDivPixel(e),e=f(this),this.a.style.top=t.y+e.height+"px",this.a.style.left=t.x+e.width+"px",t=this.b.offsetHeight,e=this.b.offsetWidth,e!=this.get("width")&&this.set("width",e),t!=this.get("height")&&this.set("height",t)}}},o.prototype.draw=o.prototype.draw,o.prototype.onRemove=function(){this.a&&this.a.parentNode&&this.a.parentNode.removeChild(this.a),u(this)},o.prototype.onRemove=o.prototype.onRemove;var m={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};window.RichMarkerPosition=m}();
